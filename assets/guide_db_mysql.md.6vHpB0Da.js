import{_ as s,c as i,o as a,X as e}from"./chunks/framework.4ft2TBN7.js";const b=JSON.parse('{"title":"MySQL 安装使用","description":"","frontmatter":{},"headers":[],"relativePath":"guide/db/mysql.md","filePath":"guide/db/mysql.md","lastUpdated":1710243407000}'),l={name:"guide/db/mysql.md"},n=e(`<h1 id="mysql-安装使用" tabindex="-1">MySQL 安装使用 <a class="header-anchor" href="#mysql-安装使用" aria-label="Permalink to &quot;MySQL 安装使用&quot;">​</a></h1><p>MySQL 是一个流行的开源关系型数据库管理系统。以下是在不同操作系统上安装和使用 MySQL 的基本步骤。</p><h2 id="在-linux-上安装-mysql" tabindex="-1">在 Linux 上安装 MySQL <a class="header-anchor" href="#在-linux-上安装-mysql" aria-label="Permalink to &quot;在 Linux 上安装 MySQL&quot;">​</a></h2><h3 id="以-ubuntu-为例-你可以使用以下命令安装-mysql" tabindex="-1">以 Ubuntu 为例，你可以使用以下命令安装 MySQL： <a class="header-anchor" href="#以-ubuntu-为例-你可以使用以下命令安装-mysql" aria-label="Permalink to &quot;以 Ubuntu 为例，你可以使用以下命令安装 MySQL：&quot;">​</a></h3><ol><li>更新包索引：</li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sudo apt update</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>安装 MySQL 服务器：</li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sudo apt install mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="3"><li>安全安装，设置密码，移除匿名用户，禁止远程 root 登录等：</li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sudo mysql_secure_installation</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="4"><li>启动 MySQL 服务：</li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sudo systemctl start mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="5"><li>验证 MySQL 是否正在运行：</li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sudo systemctl status mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="6"><li>（可选）使 MySQL 服务在启动时自动启动：</li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sudo systemctl enable mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="在-macos-上安装-mysql" tabindex="-1">在 macOS 上安装 MySQL <a class="header-anchor" href="#在-macos-上安装-mysql" aria-label="Permalink to &quot;在 macOS 上安装 MySQL&quot;">​</a></h2><blockquote><p>在 macOS 上，你可以使用 Homebrew 来安装 MySQL：</p></blockquote><ol><li>更新 Homebrew：</li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">brew update</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>安装 MySQL：</li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">brew install mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="3"><li>启动 MySQL 服务：</li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">brew services start mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="4"><li>运行安全安装脚本：</li></ol><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysql_secure_installation</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="在-windows-上安装-mysql" tabindex="-1">在 Windows 上安装 MySQL <a class="header-anchor" href="#在-windows-上安装-mysql" aria-label="Permalink to &quot;在 Windows 上安装 MySQL&quot;">​</a></h2><p>在 Windows 上，你可以从 MySQL 官方网站下载安装程序并按照向导进行安装。</p><ul><li>访问 MySQL 官方下载页面：MySQL Downloads</li><li>选择适合你的 Windows 版本的安装程序。</li><li>下载并运行安装程序，按照向导指示完成安装。</li></ul><h2 id="使用-mysql" tabindex="-1">使用 MySQL <a class="header-anchor" href="#使用-mysql" aria-label="Permalink to &quot;使用 MySQL&quot;">​</a></h2><p><a href="/guide/node/koa/数据库连接.html">Node项目安装及使用</a></p><blockquote><p>安装完成后，你可以使用 MySQL 命令行客户端连接到数据库并开始使用。</p></blockquote><ul><li>启动 MySQL 命令行客户端：</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysql </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">u root </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>这里 -u 表示用户名，root 是默认的管理员账户，-p 会提示你输入密码。</p></blockquote><div class="tip custom-block"><p class="custom-block-title">mysql 管理登录</p><p>在 MySQL 中设置账号密码通常涉及几个步骤，包括创建新用户、分配权限以及设置或更改密码。以下是一些基本的 SQL 命令来执行这些操作。</p></div><ul><li>创建新用户并设置密码</li></ul><p>要创建一个新用户并立即设置密码，可以使用以下命令：</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CREATE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> USER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;username&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;localhost&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> IDENTIFIED</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> BY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;password&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>将 <code>username</code> 替换为你想要创建的用户名，<code>password</code> 替换为你想要为该用户设置的密码。<code>localhost</code> 表示用户只能从本地机器连接到 MySQL 服务器。如果你想允许用户从任何主机连接，可以使用 <code>%</code> 替代 <code>localhost</code>。</p></blockquote><ul><li>更改现有用户的密码</li></ul><p>如果用户已经存在，你可以更改其密码：</p><div class="language-JS vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ALTER</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> USER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;username&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;localhost&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> IDENTIFIED</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> BY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;newpassword&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>同样，将 <code>username</code> 和 <code>newpassword</code> 替换为相应的用户名和新密码。</p><ul><li>删除用户</li></ul><p>如果你需要删除一个用户，可以使用：</p><div class="language-JS vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DROP</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> USER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;username&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;localhost&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>授予权限</li></ul><p>创建用户后，你可能需要给用户授予对特定数据库的权限。例如，授予所有权限：</p><div class="language-JS vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">GRANT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ALL</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PRIVILEGES</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> databasename.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> TO</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;username&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;localhost&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这里 <code>databasename.*</code> 表示对名为 <code>databasename</code> 的数据库的所有表授予所有权限。你可以根据需要调整权限级别和数据库名称。</p><ul><li>刷新权限</li></ul><p>在授予权限后，执行以下命令来使权限立即生效：</p><div class="language-JS vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">JS</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FLUSH</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PRIVILEGES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">注意事项</p><ul><li>在执行这些操作之前，确保你已经以具有足够权限的用户身份登录到 MySQL 服务器。</li><li>从 MySQL 5.7 和 MariaDB 10.2 开始，IDENTIFIED BY &#39;password&#39; 语法已经被认为是不安全的，推荐使用 CREATE USER 和 ALTER USER 来创建和修改用户密码。</li><li>在生产环境中，应该使用强密码，并且仅授予必要的最小权限。</li><li>MySQL 8.0 之后的版本中，密码策略可能更加严格，需要设置复杂度更高的密码。</li></ul></div><blockquote><p>请根据你的 MySQL 服务器版本和具体需求调整上述命令。</p></blockquote><p>在 MySQL 命令行中，你可以执行各种 SQL 命令，例如：</p><ul><li>显示所有数据库：</li></ul><p><code>SHOW DATABASES;</code></p><ul><li>创建新数据库：</li></ul><p><code>CREATE DATABASE mydatabase;</code></p><ul><li>使用特定数据库：</li></ul><p><code>USE mydatabase;</code></p><ul><li>创建数据表：</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CREATE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mytable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    id </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">INT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AUTO_INCREMENT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PRIMARY</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VARCHAR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">255</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NOT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    age </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">INT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>插入数据：</li></ul><p><code>INSERT INTO mytable (name, age) VALUES (&#39;John Doe&#39;, 30);</code></p><ul><li>查询数据：</li></ul><p><code>SELECT * FROM mytable;</code></p><ul><li>更新数据：</li></ul><p><code>UPDATE mytable SET age = 31 WHERE name = &#39;John Doe&#39;;</code></p><ul><li>删除数据：</li></ul><p><code>DELETE FROM mytable WHERE name = &#39;John Doe&#39;;</code></p><p>在安装和使用 MySQL 时，请确保遵循最佳实践，特别是在生产环境中，包括配置适当的安全设置、定期备份数据等。</p>`,74),t=[n];function p(h,d,r,o,k,c){return a(),i("div",null,t)}const E=s(l,[["render",p]]);export{b as __pageData,E as default};
